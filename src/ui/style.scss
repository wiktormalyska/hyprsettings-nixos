$transition-speed-fast: 0.05s;
$transition-speed-normal: 0.5s;
$transition-main: background-color $transition-speed-normal ease,
	/*!Do not edit this! This css should be autogenerated by

compiling the scss file.

Fastest scss setup is to install thead
sass package via your package manager
and run on the same dir as style.scss
sass --watch style.scss:style.css
*/
		/* =================================
   1. Variables & Mixins
   ================================= */
		/* -- SCSS-only Vars (Internal) --*/ color $transition-speed-fast
		ease;

/* -- Mixins --*/

/* Single-line text overflow*/
@mixin text-ellipsis {
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

/* Sidebar tab active state (for :hover, :active, .selected)*/
@mixin sidebar-item-active {
	background-color: var(--accent);

	color: var(--text-contrast);
	font-weight: 600;
}

@mixin scroll-on-hover($duration: 5s) {
	position: relative;
	overflow: hidden;
	white-space: nowrap;

	display: inline-block;
	vertical-align: middle;

	display: inline-block;
	transition: transform $duration linear;

	transform: translateX(calc(-100% + 100%));
}

/* =================================
   2. Theming & Base Styles
   ================================= */
:root {
	/* These are now themeable from JS!*/
	--spacing-unit: 1rem;
	--border-rad: 5px;
	--background-alpha: 0.9;
	--surface-0: #1e1e2e;
	--surface-1: #181825;
	--surface-2: #11111b;
	--surface-border: #585b70;
	--text-0: #cdd6f4;
	--text-1: #bac2de;
	--text-2: #a6adc8;
	--text-3: #9399b2;
	--text-4: #7f849c;
	--text-disabled: #6c7086;
	--text-contrast: #11111b;
	--accent: #89b4fa;
	--accent-hover: #74c7ec;
	--accent-active: #cba6f7;
	--accent-success: #a6e3a1;
	--accent-warning: #f9e2af;
	--accent-danger: #f38ba8;
	--red: #f38ba8;
	--orange: #fab387;
	--yellow: #f9e2af;
	--green: #a6e3a1;
	--teal: #94e2d5;
	--blue: #89b4fa;
	--pink: #f5c2e7;
	--purple: #cba6f7;
	--overlay: #7f849c;
	--shadow: #6c7086;
}

/* --- Base & Resets ---*/

html {
	height: 100%;
	background-color: var(--surface-0);
	color: var(--text-0);
	font-family: var(--font-primary) !important;
	font-size: 62.5%;
	opacity: 0;
	transition: opacity 0.2s ease-in-out;
	box-sizing: border-box;
	overflow: hidden;
	min-height: 0;
}

html,
body {
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

*,
*::before,
*::after {
	margin: 0;
	padding: 0;
	box-sizing: inherit; /* Better box-sizing reset*/
	/* scrollbar-gutter: stable !important;*/
	/* filter: saturate(1.1), brightness(1.1), contrast(1.5);*/
}

body {
	display: flex;
	height: 100%;
	max-width: 100%;
	min-height: 0;
	font-size: 1.6rem;
	transition: $transition-main;
	flex-direction: column;

	overflow: hidden;
	overflow-x: hidden;
}

/* =================================
   3. Layout
   ================================= */

header#main-header {
	padding: var(--spacing-unit);
	border-bottom: 1px solid var(--surface-border);
	border-radius: 0;
	font-weight: 800;
	transition: transform $transition-speed-normal ease; /* Use var*/

	&:hover {
		transform: scale(1.05) translateX(2.5rem);
	}
}

#main {
	display: flex;
	// background-color: var(--surface-0);
	flex: 1;
	min-height: 0;
	max-width: 100%; /* Take remaining vertical space*/
	/* padding-top: var(--spacing-unit); // Use var*/ /* Allow content to scroll*/
}

#sidebar {
	height: 100%;

	background-color: var(--surface-0);
	flex: 0 0 20%;
	min-width: 0;
	overflow-y: auto;
	overflow-x: hidden; /* Strict 20%*/
	/* transition: all 1s ease;*/

	ul {
		display: flex;
		list-style: none;
		flex-direction: column;
		/* padding-right: 1rem;*/
		.sidebar-icon {
			/* display: none;*/
			display: inline-flex;
			padding: var(--spacing-unit);

			font-size: 3rem;
			line-height: 1;
		}
		> div {
			@include text-ellipsis();
		}
	}
	@media (max-width: 25rem) {
		> ul > li .sidebar-text {
			position: absolute;
			opacity: 0;
			transform: translateX(1rem);
			/* display: none !important;*/
		}
		> ul > li {
			height: 3rem;
			padding-left: 1rem;
			justify-content: center;
		}
		> ul > div {
			opacity: 0;
		}
		#sidebar-icon.sidebar-icon {
			/*this has to be the id for higher prio*/
			display: inline-block !important;
		}
		> ul {
			padding: 0;
		}
	}
}

#content-area {
	display: flex;
	height: 100%;
	padding-left: 1.5rem;
	padding-top: var(--spacing-unit);

	background-color: var(--surface-1);
	flex: 0 0 80%;
	max-width: 80%;
	flex-direction: column;
	min-height: 0; /* Use var*/ /* Strict 80%*/ /* Enforce max width*/
}

footer {
	display: flex;
	padding-left: var(--spacing-unit);
	padding-right: var(--spacing-unit);
	flex-direction: row;
	align-items: center;
	justify-content: flex-end;
	z-index: 10;
	/* flex-direction: row-reverse; // This moves items to the right*/
	/* margin-top: var(--spacing-unit); // Use var*/
	> * {
		font-size: 1rem;
	}
}

/* =================================
   4. Components
   ================================= */

/* --- Sidebar Components ---*/

.tab-separator {
	margin-left: var(--spacing-unit);
	margin-top: var(--spacing-unit);

	border-bottom: 3px solid var(--surface-1);
	border-radius: 0;

	font-size: 1.2rem; /* Use var*/ /* Use var*/
}

.sidebar-item {
	display: flex;
	height: 3rem;
	padding-left: var(--spacing-unit);
	width: 100%;
	opacity: 0.9;
	transition: $transition-main, transform $transition-speed-normal ease;
	transition: transform 1s ease;
	align-items: center;
	@include text-ellipsis; /* For vertical alignment*/
	/* border-radius: var(--border-rad);*/
	/* @include scroll-on-hover(7s);*/

	&:hover {
		@include sidebar-item-active; /* Use mixin*/
		/* border: 1px solid var(--accent);*/
	}

	&:active {
		transform: scale(0.95);
		@include sidebar-item-active; /* Use mixin*/
	}

	&.selected {
		opacity: 1;
		@include sidebar-item-active; /* Use mixin*/
	}
}

/* --- Content Area Components ---*/

.config-set {
	display: flex;
	height: 100%;
	margin-top: 1rem;
	padding-right: 2rem;
	flex: 0 1 auto;
	flex-direction: column;
	min-height: 0;
	overflow-y: scroll;

	/* Specific styles for the #settings tab*/
	&#settings {
		.setting-container {
			display: flex;
			height: 3rem;
			margin-left: var(--spacing-unit);
			flex-direction: row;
			align-items: center; /* Use var*/

			input[type="checkbox"] {
				height: 2rem;
				margin-right: var(--spacing-unit);
				width: 2rem;
				transition: $transition-main; /* Use var*/ /* Set a custom width*/ /* Set a custom height*/
				&:active {
					transform: scale(1.5);
				}
			}

			label {
				&:hover {
					filter: brightness(5);
				}
			}
		}
	}
}

h1#config-set-title {
	margin-bottom: var(--spacing-unit);

	color: var(--accent); /* Use var*/
	/* font-size: 1.6rem;*/
}

/* --- Editor Item ---*/
.editor-item {
	position: relative;
	border-radius: var(--border-rad);
	// box-shadow: 0 0px 2px rgba(0, 7, 76, 0.3);
	padding: 0.5rem;
	margin-bottom: var(--spacing-unit);
}

.editor-item {
	display: flex;
	flex-direction: column;
	border: 1px solid transparent;
	font-size: 1.6rem;
	opacity: 0.8;
	background-color: var(--surface-0);

	&:focus-visible,
	&:focus {
		border: 1px solid var(--accent-hover);
		opacity: 1;
		margin-left: 1.5rem !important;
		&::after {
			content: "";
			position: absolute;
			left: -1rem; // adjust to fit your layout
			top: 1rem;
			transform: translateY(-50%);
			color: var(--accent-success);
			font-weight: bold;
		}
	}
	&:focus-within:not(:focus){
		border: 1px solid var(--accent-hover);
		opacity: 1;
		margin-left: 1.5rem !important;
		&::after {
			content: "";
			position: absolute;
			left: -1rem; // adjust to fit your layout
			top: 1rem;
			transform: translateY(-50%);
			color: var(--accent-success);
			font-weight: bold;
		}
	}
	&.compact {
		/* background-color: transparent !important;*/
		.keybind-editor,
		.generic-editor,
		.comment-area {
			display: none;
			opacity: 0;
		}
	}
	&.disabled {
		.editor-item-preview {
			padding-left: 6rem;
		}
		.editor-item-preview::before {
			height: 1.4 rem;
			position: absolute;
			padding-left: 0.5ch;
			padding-right: 0.5ch;
			z-index: 10000;
			transform: translateY(2px) translateX(-100%);
			border-radius: var(--border-rad);
			// background-color: var(--accent-warning);
			color: var(--accent-warning);
			font-size: 1.2rem;
			// font-weight: bold;
			content: "Disabled";
		}
	}
	.editor-item-preview {
		margin-bottom: 2px;
		font-size: 1.4rem;
		i {
			color: var(--text-2); /* Replaced --sec and opacity*/
		}
		span {
			&#key {
				color: var(--accent);
			}
			&#value {
				color: var(--teal);
			}
		}
	}

	.keybind-editor,
	.generic-editor {
		display: flex;
		flex-direction: row;
		flex: 1;
		align-items: stretch;
		height: 100%;
		// flex: 1 0 3rem;
		// gap: 1rem;
		@media (max-width: 40rem) {
			flex-direction: column !important;
			gap: 1rem;
		}

		> * {
			margin-right: var(--spacing-unit);
			border-radius: var(--border-rad);
			background-color: var(--surface-1);
			color: var(--text-0);
			font-size: 1.6rem !important;
			flex: 1;
			height: 100% !important;
			box-sizing: border-box;
		}
		> textarea {
			padding: 2px 2px;
			border: 0;
			outline: none;
			resize: none;
		}
	}

	.comment-area {
		display: flex;
		margin-top: 0.2rem;
		padding: 0;

		font-style: italic;
		align-items: center;
		justify-content: center;

		> * {
			height: 2rem;
			align-items: center;
			justify-content: center;
			/* opacity: (0.6); // Removed, handled by text color*/
			&:focus {
				border: none;
				border-bottom: 1px solid var(--accent) !important;
				outline: none;
				/* opacity: 1; // Removed*/
			}
		}

		&:has(> textarea:placeholder-shown) {
			/* Removed opacity*/
			opacity: 0.6;
		}

		.comment {
			display: flex;
			height: 2rem;
			padding: 2px;
			width: 100%;

			border: 0;

			background-color: transparent;

			color: var(--text-1);
			font-style: italic;
			align-items: center;
			resize: none; /* Dim color for base state*/
			&:hover {
				color: var(--text-1);
				cursor: text; /* Brighten on hover*/
			}
			&:focus {
				color: var(--text-1); /* Brighten on focus*/
			}
		}

		.comment-hashtag {
			padding-top: 0px;

			color: var(--text-1);
		}
	}
}

/* --- Line Comment Item (Specific) ---*/
.editor-item:has(> .editor-item-comment) {
	margin: 0;
	padding: 0;
	border: 1px solid transparent;
	// border: 1px solid red;
	background-color: transparent;
	// opacity: 1;
	outline: none;

	> .editor-item-comment {
		margin-bottom: 0;
		width: 100%;
		border: 0;
		// border: 1px solid transparent;
		border-radius: var(--border-rad);
		background-color: transparent;
		color: var(--text-4);
		font-style: italic;
		font-weight: 400;
		box-shadow: none !important;
		outline: none !important;
		resize: none;
		overflow: hidden;
		@include text-ellipsis; /* Dimmer color for base state*/ /* line-height: 0.8rem;*/
		/* opacity: 0.5; // Removed, handled by text color*/
		&:hover {
			color: var(--text-1);
			font-weight: unset;
			cursor: text; /* Brighten on hover*/
		}
		&:focus,
		&:focus-visible {
			color: var(--text-1);
			font-weight: unset;
			outline: none;
			/* border: 1px dashed var(--accent-active);*/ /* Brighten on focus*/
		}
	}
	&:focus-within,
	&:focus-visible,
	&:focus {
		// border-color: var(--accent);
		border: 1px solid transparent;
		border-bottom: 1px solid var(--accent-hover) !important;
		opacity: 1 !important;
		> * {
			color: var(--text-1);
		}
	}
}

.editor-item-generic {
	display: flex;
	flex-direction: column;
	border-radius: var(--border-rad);
	position: relative;
	color: var(--text-2);
	width: 100%;
	&.disabled {
		/* text-decoration: line-through;*/
	}
	// > .generic-editor {
	// 	display: flex;
	// 	flex-direction: row;
	// 	gap: 1rem;
	// }
	> * {
		&#key {
			height: 100%;
			padding-left: 0.5rem;
			padding-right: 1rem;

			border-radius: var(--border-rad);

			// background-color: var(--surface-0);

			color: var(--accent);
			align-content: center;
		}
		&#value {
			padding-left: 0.5rem;

			color: var(--teal);
			white-space: nowrap;
			@include text-ellipsis;
		}
	}
	&:focus-visible,
	&:focus {
		// border: 0;
	}
}

.config-group {
	// background-color: var(--red) !important;
	background-color: var(--surface-1);
	background-blend-mode: multiply;
	position: relative;
	display: flex;
	margin-bottom: var(--spacing-unit);
	margin-top: var(--spacing-unit);
	padding: 2rem;
	padding-top: 2.5 rem;
	padding-bottom: 1rem;
	border: 3px solid var(--surface-0);
	border-radius: var(--border-rad);
	flex-direction: column;
	opacity: 1;
	box-shadow: 0 0px 10px rgba(0, 0, 0, 0.05);

	> .config-group {
		margin-top: 1.5rem;
	}
}

/* the floating label on the border */
.config-group::before {
	left: 1rem;
	position: absolute;
	top: 0;
	padding: 0 0.5em;
	background-color: var(--surface-1);
	backdrop-filter: brightness(0.1);
	color: var(--text-1);
	font-size: 1.6rem;
	font-weight: 800;
	text-transform: capitalize;
	transform: translateY(-50%);
	content: attr(data-name);
}

/* =================================
   5. Base Elements & Utilities
   ================================= */

/* --- Base Elements ---*/
a {
	background: none;

	color: var(--accent);
	text-decoration: none;
	transition: color $transition-speed-normal ease; /* Added*/

	&:hover {
		color: var(--accent-hover); /* Added*/
	}
}

button#theme-toggle {
	margin-left: 2rem;

	border: none;

	background: none;

	color: var(--text-1);
	font-size: 2rem;
	cursor: pointer;
	transition: transform $transition-speed-normal ease,
		color $transition-speed-normal ease; /* Added*/

	&:hover {
		color: var(--accent);
		transform: scale(1.1); /* Added*/
	}
}

/* --- Utility Classes ---*/
.blank-line {
	color: transparent;
	max-width: 100%;
}
.hidden {
	display: none !important;
	visibility: hidden;
	flex: 0;
}
a {
	color: var(--accent) !important;
	&:hover {
		text-decoration: underline;
	}
}

// .disabled {
// 	position: relative;
// 	transform: none;
// 	overflow: visible;
// }
// .disabled::before {
// 	height: 1.4 rem;
// 	// margin-right: 1ch;
// 	padding-left: 0.5ch;
// 	padding-right: 0.5ch;
// 	// aspect-ratio: 1;
// 	z-index: 10000;
// 	position: absolute;
// 	right: 0;
// 	top: 0;
// 	transform: translateX(-1ch) translateY(1ch);
// 	border-radius: var(--border-rad);
// 	// background-color: var(--accent-warning);
// 	color: var(--accent-warning);
// 	font-size: 2rem;
// 	font-weight: bold;
// 	content: "";
// }

.settings-hidden {
	display: none !important;
	/* visibility: hidden;*/
	/* flex: 0;*/
}

.context-menu {
	position: absolute;
	right: 0%;
	top: calc(100% + 1rem);
	z-index: 300;

	display: flex;
	padding: calc(var(--spacing-unit) / 2);

	border: 1px solid var(--surface-border);
	border-radius: var(--border-rad);

	background-color: var(--surface-0);
	opacity: 0;
	transition: all 0.5s ease;
	flex-direction: row;
	.ctx-button {
		display: flex;
		width: 4rem;

		color: var(--text-1);
		cursor: pointer;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		overflow: hidden;
		gap: 0.2rem;
		.ctx-button-icon {
			font-size: 3rem;
			line-height: 2rem;
		}
		.ctx-button-label {
			font-size: 1rem;
			line-height: 1rem;
			text-align: center;
			/* @include text-ellipsis();*/
		}
		&:hover {
			scale: 1.05;
			filter: brightness(1.2); /* Use brightness instead of scale*/
		}
		&:active {
			scale: 0.95;
		}
		> * {
			transition: all 0.2s ease;
		}
	}
}

code {
	border: var(--surface-border);
	border-radius: var(--border-rad);

	background-color: var(--surface-1) !important;

	color: var(--accent-active);
}

button {
	padding: var(--spacing-unit);

	border: none;
	border-radius: var(--border-rad);

	background-color: var(--accent);
	outline: none;
	&:active {
		background-color: var(--accent-active);
	}
	&:hover {
		background-color: var(--accent-hover);
		scale: 1.05;
	}
}

span {
	&.info {
		color: var(--accent-success);
	}
	&.warning {
		color: var(--accent-warning);
	}
	&.success {
		color: var(--accent-success);
	}
	&.danger {
		color: var(--accent-danger);
	}
}

.warn {
	color: var(--accent-danger) !important;
}

/* --- Scroll Bars Suck ---*/

/* width */
::-webkit-scrollbar {
	width: 1rem;

	background-color: transparent;
	opacity: 0;
	transition: opacity 1s linear; /* Kept for show/hide interaction*/
}
::-webkit-scrollbar:hover {
	width: 10px;
	opacity: 1; /* Kept for show/hide interaction*/
}

/* Track */
::-webkit-scrollbar-track {
	background-color: transparent !important;
	/* background-color: black;*/
}

/* Handle */
::-webkit-scrollbar-thumb {
	border-radius: var(--border-rad);

	background: var(--surface-2);
	transition: opacity 1s linear;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
	background-color: var(--surface-border);
}

/* .scrollable {*/
/* 	overflow: auto;*/
/* 	scrollbar-gutter: stable both-edges; */ /* reserves space inside */ /**/
/* 	background-clip: padding-box;*/
/* }*/

/* THIS IS THE ONE TIME ONBOARDING*/
@mixin hex-opacity($color, $alpha) {
	background-color: rgba(red($color), green($color), blue($color), $alpha);
}

#onboarding {
	left: 0;
	position: fixed;
	top: 0;
	z-index: 10;

	display: flex;
	height: 100vh;
	width: 100vw;

	background-color: var(--surface-0) 50%;
	transition: all 0.4s ease;
	transition: opacity 1s ease;
	flex-direction: column;
	backdrop-filter: blur(10px) brightness(0.6);
	justify-items: center;
	justify-content: center;
	align-items: center;

	* {
		margin-bottom: 0;
		text-shadow: 0 5px 20px 10px rgba(0, 0, 0, 1),
			0 1px 5px rgba(0, 0, 0, 1);
	}
	h1,
	h2,
	a,
	li {
		margin-bottom: 0.3rem;
	}
	p {
		display: inline-block;
		margin-bottom: 0.55rem;
		padding-left: 8rem;
		padding-right: 8rem;

		text-align: center;
	}

	button {
		font-weight: bold;
		cursor: pointer;
		transition: scale 0.1 ease;
		scale: 1;

		&:active {
			scale: 0.9 !important;
		}
		&:hover {
			scale: 1.05;
		}
	}
	a {
		white-space: nowrap;
	}
	ul {
		padding-left: 20rem;
		padding-right: 20rem;
		list-style: square;
	}
}

.testing-screen-button {
	z-index: 20;
}

.testing-screen {
	left: 0;
	position: fixed;
	top: 0;
	z-index: 10;
	display: flex;
	height: 100vh;
	width: 100vw;
	background-color: var(--surface-0) 50%;
	opacity: 0;
	transition: all 1s ease;
	transition: opacity 1s ease;
	flex-direction: column;
	backdrop-filter: blur(10px) brightness(0.6);
	justify-items: center;
	justify-content: center;
	align-items: center;
	header {
	}
	#main-part {
		flex: 1;
	}
	footer {
	}
}
